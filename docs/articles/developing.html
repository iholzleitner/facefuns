<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Developing • facefuns</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Developing">
<meta property="og:description" content="facefuns">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">facefuns</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.0.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/TEMtoTPS.html">Converting Webmorph templates</a>
    </li>
    <li>
      <a href="../articles/calcED.html">Calculate similarity of faces</a>
    </li>
    <li>
      <a href="../articles/developing.html">Developing</a>
    </li>
    <li>
      <a href="../articles/intro.html">Introduction</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/iholzleitner/facefuns/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="developing_files/accessible-code-block-0.0.1/empty-anchor.js"></script><link href="developing_files/anchor-sections-1.0/anchor-sections.css" rel="stylesheet">
<script src="developing_files/anchor-sections-1.0/anchor-sections.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Developing</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/iholzleitner/facefuns/blob/master/vignettes/developing.Rmd"><code>vignettes/developing.Rmd</code></a></small>
      <div class="hidden name"><code>developing.Rmd</code></div>

    </div>

    
    
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/iholzleitner/facefuns">facefuns</a></span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/geomorphR/geomorph">geomorph</a></span><span class="op">)</span>
<span class="co">#&gt; Loading required package: RRPP</span>
<span class="co">#&gt; Loading required package: rgl</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/facelab/webmorph">webmorph</a></span><span class="op">)</span></code></pre></div>
<div id="reading-data" class="section level1">
<h1 class="hasAnchor">
<a href="#reading-data" class="anchor"></a>READING DATA</h1>
<p>It might be better keep reading/conversion of data separate from the rest of basics/quickstart function? There are so many different potential starting points; and doing the conversion on the fly in the big function means we either have to save the data in the output (and that will be a sizeable object most of times), or one has to re-run basic function every time (for example, when a change to templates is made).</p>
<p>Either way, new function: read_shapedata</p>
<p>Has the following options</p>
<ol style="list-style-type: decimal">
<li><p>if someone has been using R package webmorph, webmorph::read_tem (if any changes to template are desired, these probably either will have already be done or will be done with other webmorph functions)</p></li>
<li><p>if someone has used webmorph to delineate, but is coming to facefuns directly from online webmorph and really doesn’t want to anything except for shape stuff and maybe delete some points before doing so, we’ll use (the much more basic) facefuns::convertTEMtoTPS (now adapted to fit webmorph code)</p></li>
<li><p>if someone already has a tps file because they delineated in different software, use geomorph::readland.tps</p></li>
</ol>
<p>read_shape data thus checks whether input is (1) class webmorph_list, (2) tps file or (3) tem file(s), and will output array that can be directly read by gm.prcomp etc. Option to save data as .tps file.</p>
<p>Basics thus needs to check for class array, as well as correct dimensions.</p>
<p>TESTING</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">path_to_tem</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html">system.file</a></span><span class="op">(</span><span class="st">"extdata/tem"</span>, package <span class="op">=</span> <span class="st">"facefuns"</span><span class="op">)</span>
<span class="va">path_to_tps1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/tempfile.html">tempfile</a></span><span class="op">(</span>fileext <span class="op">=</span> <span class="st">".tps"</span><span class="op">)</span>
<span class="va">path_to_tps2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/tempfile.html">tempfile</a></span><span class="op">(</span>fileext <span class="op">=</span> <span class="st">".tps"</span><span class="op">)</span>

<span class="va">temlist</span> <span class="op">&lt;-</span> <span class="fu">webmorph</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/webmorph/man/read_stim.html">read_stim</a></span><span class="op">(</span><span class="va">path_to_tem</span>, images <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></code></pre></div>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">test_temlist</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/read_shapedata.html">read_shapedata</a></span><span class="op">(</span>shapedata <span class="op">=</span> <span class="va">temlist</span>, path_to_tps <span class="op">=</span> <span class="va">path_to_tps1</span><span class="op">)</span>

<span class="va">test_temlist_output</span> <span class="op">&lt;-</span> <span class="fu">geomorph</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/geomorph/man/readland.tps.html">readland.tps</a></span><span class="op">(</span><span class="va">path_to_tps1</span>, specID <span class="op">=</span> <span class="st">"ID"</span><span class="op">)</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; No curves detected; all points appear to be fixed landmarks.</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Warning: not all specimens have scale adjustment (perhaps because they are already scaled);</span>
<span class="co">#&gt; no rescaling will be performed in these cases</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Negative landmark coordinates have been identified and imported as such.</span>
<span class="co">#&gt; If you want to treat them as NAs please set negNA = TRUE</span>
<span class="fu"><a href="https://rdrr.io/pkg/geomorph/man/plotAllSpecimens.html">plotAllSpecimens</a></span><span class="op">(</span><span class="va">test_temlist_output</span><span class="op">)</span></code></pre></div>
<p><img src="developing_files/figure-html/unnamed-chunk-3-1.png" width="700"></p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">test_tem</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/read_shapedata.html">read_shapedata</a></span><span class="op">(</span>shapedata <span class="op">=</span> <span class="va">path_to_tem</span>, path_to_tps <span class="op">=</span> <span class="va">path_to_tps2</span><span class="op">)</span>

<span class="va">test_tem_output</span> <span class="op">&lt;-</span> <span class="fu">geomorph</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/geomorph/man/readland.tps.html">readland.tps</a></span><span class="op">(</span><span class="va">path_to_tps2</span>, specID <span class="op">=</span> <span class="st">"ID"</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/pkg/geomorph/man/plotAllSpecimens.html">plotAllSpecimens</a></span><span class="op">(</span><span class="va">test_tem_output</span><span class="op">)</span></code></pre></div>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">test_tps</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/read_shapedata.html">read_shapedata</a></span><span class="op">(</span>shapedata <span class="op">=</span> <span class="va">path_to_tps1</span><span class="op">)</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Negative landmark coordinates have been identified and imported as such.</span>
<span class="co">#&gt; If you want to treat them as NAs please set negNA = TRUE</span></code></pre></div>
<p><img src="developing_files/figure-html/unnamed-chunk-5-1.png" width="700"></p>
</div>
<div id="basicsquickstart-funciton" class="section level1">
<h1 class="hasAnchor">
<a href="#basicsquickstart-funciton" class="anchor"></a>BASICS/QUICKSTART FUNCITON</h1>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by Iris J Holzleitner, Lisa M DeBruine.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
